# Created by: Iblis Lin <iblis@hs.ntnu.edu.tw>
# $FreeBSD: head/net/libwebsockets/Makefile 564064 2021-02-04 20:24:09Z tcberner $

PORTNAME=	libwebsockets
DISTVERSIONPREFIX=	v
DISTVERSION=	4.1.6
CATEGORIES=	net devel
MASTER_SITES=	https://libwebsockets.org/git/libwebsockets/snapshot/

MAINTAINER=	iblis@hs.ntnu.edu.tw
COMMENT=	C library for lightweight websocket clients and servers

LIB_DEPENDS+= libuv.so:devel/libuv

USES=		cmake gmake localbase pkgconfig tar:xz
USE_LDCONFIG=	yes

CMAKE_ON+= LWS_IPV6 
CMAKE_ON+= LWS_WITH_SSL 
CMAKE_ON+= LWS_WITH_ZLIB

CMAKE_ON+= LWS_WITHOUT_TESTAPPS 
CMAKE_ON+= LWS_WITHOUT_TEST_SERVER
CMAKE_ON+= LWS_WITHOUT_TEST_SERVER_EXTPOLL
CMAKE_ON+= LWS_WITHOUT_TEST_PING 
CMAKE_ON+= LWS_WITHOUT_TEST_CLIENT

CMAKE_ON+= LWS_WITH_HTTP2
CMAKE_ON+= LWS_WITH_LIBUV

#CMAKE_OFF+= LWS_ROLE_MQTT
#CMAKE_OFF+= LWS_WITH_HTTP_PROXY
#CMAKE_OFF+= LWS_WITH_LWSWS
#CMAKE_OFF+= LWS_WITH_PEER_LIMITS
#CMAKE_OFF+= LWS_WITH_PLUGINS LWS_WITH_PLUGINS_API
#CMAKE_OFF+= LWS_WITH_SECURE_STREAMS LWS_WITH_SECURE_STREAMS_PROXY_API
#CMAKE_OFF+= LWS_WITH_SOCKS5
#CMAKE_OFF+= LWS_WITH_SQLITE3
#CMAKE_OFF+= PEERLIMITS PLUGINS LIBUV
#CMAKE_OFF+= LWS_WITH_LIBEV
#CMAKE_OFF+= LWS_WITH_LIBEVENT

.include <bsd.port.mk>
#EOF
