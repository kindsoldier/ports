#!/bin/sh

set -x

CYRUS_GROUP="%%CYRUS_GROUP%%"
CYRUS_OWNER="%%CYRUS_OWNER%%"
CYRUS_GROUPID="%%CYRUS_GROUPID%%"
CYRUS_OWNERID="%%CYRUS_OWNERID%%"
CYRUS_RUNDIR="%%CYRUS_RUNDIR%%"
CYRUS_SYSCONFDIR="%%CYRUS_SYSCONFDIR%%"

PKG_PREFIX="/notexist"

case $2 in 
    PRE-INSTALL)
	pw group add ${CYRUS_GROUP}  -g ${CYRUS_GROUPID}
	pw user add ${CYRUS_OWNER} -g ${CYRUS_GROUP}  \
	    -d ${PKG_PREFIX} -s /usr/sbin/nologin -u ${CYRUS_OWNERID} \
	    -c "cyrus-sasl"
	pw group mod ${CYRUS_GROUP} -M ${CYRUS_OWNER}
	pw group show ${CYRUS_GROUP}
	pw user show ${CYRUS_OWNER}
	;;
    POST-INSTALL)
	install -d -o root -g wheel -m 0755 ${CYRUS_RUNDIR}
	install -d -o root -g wheel -m 0755 ${CYRUS_SYSCONFDIR}
	;;
esac
exit 0
#EOF
