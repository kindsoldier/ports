#
# $Id: Makefile 2708 2009-10-31 22:07:40Z root $
#
PORTNAME=	bash
PORTVERSION=	4.4.12
CATEGORIES=	shells 
MASTER_SITES+=	http://ftp.gnu.org/gnu/
MASTER_SITES+=	${MASTER_SITE_GNU} 
MASTER_SITE_SUBDIR= ${PORTNAME}
DISTNAME=	${PORTNAME}-${PORTVERSION:R}
DIST_SUBDIR=	gnu

PATCH_SITES=	http://ftp.gnu.org/gnu/bash/${PORTNAME}-${PORTVERSION:R}-patches/

PORT_BASEVERSION= ${PORTVERSION:R}

PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-001
PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-002
PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-003
PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-004
PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-005
PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-006
PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-007
PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-008
PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-009
PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-010

PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-011
PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-012
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-013
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-014
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-015
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-016
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-017
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-018
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-019
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-020

#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-021
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-022
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-023
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-024
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-025
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-026
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-027
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-028
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-029
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-030

#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-031 
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-032
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-033 
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-034
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-035
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-036
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-037
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-038
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-039
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-040

#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-041
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-042
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-043
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-044
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-045

#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-046
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-047
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-048
#PATCHFILES+=${PORTNAME}${PORT_BASEVERSION:S/.//g}-049


COMMENT=	The GNU Bourne Again Shell
MAINTAINER=	onborodin@gmail.com

LIB_DEPENDS+=	libiconv.so:text/libiconv
LIB_DEPENDS+=	libintl.so:devel/gettext

GNU_CONFIGURE=	yes
USES+=		gmake

CONFIGURE_ARGS+= --with-libintl-prefix=${LOCALBASE}

CONFIGURE_ARGS+= --enable-xpg-echo-default
CONFIGURE_ARGS+= --enable-array-variables
CONFIGURE_ARGS+= --enable-alias
CONFIGURE_ARGS+= --enable-select
CONFIGURE_ARGS+= --enable-progcomp
CONFIGURE_ARGS+= --enable-multibyte
CONFIGURE_ARGS+= --enable-process-substitution
CONFIGURE_ARGS+= --enable-directory-stack
CONFIGURE_ARGS+= --enable-dparen-arithmetic
CONFIGURE_ARGS+= --enable-job-control
CONFIGURE_ARGS+= --enable-net-redirections
CONFIGURE_ARGS+= --enable-arith-for-command
CONFIGURE_ARGS+= --enable-net-redirections
CONFIGURE_ARGS+= --enable-bang-history
CONFIGURE_ARGS+= --enable-brace-expansion
CONFIGURE_ARGS+= --enable-command-timing
CONFIGURE_ARGS+= --enable-cond-command
CONFIGURE_ARGS+= --enable-cond-regexp
CONFIGURE_ARGS+= --mandir=${PREFIX}/man
CONFIGURE_ARGS+= --infodir=${PREFIX}/info

CONFIGURE_ARGS+= --without-bash-malloc
CONFIGURE_ARGS+= --disable-rpath
CONFIGURE_ARGS+= --enable-disabled-builtins

CPPFLAGS+=	-I${LOCALBASE}/include
LDFLAGS+=	-L${LOCALBASE}/lib

INFO=	bash

.include <bsd.port.mk>
#EOF
